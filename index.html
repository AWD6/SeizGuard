<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>SeizGuard - ‡∏ä‡∏±‡∏Å‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üõ°</text></svg>">
</head>
<body>
  <!-- LOGIN SCREEN -->
  <div id="loginScreen" class="screen active">
    <div class="login-container">
      <div class="login-logo login-logo-text">
        <span class="logo-text">Sg</span>
      </div>
      <h1 class="login-title">SeizGuard</h1>
      <p class="login-subtitle">‡∏ä‡∏±‡∏Å‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥</p>
      <p class="login-desc">‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏¢‡∏≤‡∏Å‡∏±‡∏ô‡∏ä‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</p>
      <div class="login-form">
        <div class="input-group">
          <i class="fas fa-user"></i>
          <input type="text" id="loginUsername" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (Username)" autocomplete="username">
        </div>
        <div class="input-group">
          <i class="fas fa-lock"></i>
          <input type="password" id="loginPassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (Password)" autocomplete="current-password">
        </div>
        <button class="btn-primary btn-large" onclick="handleLogin()">
          <i class="fas fa-sign-in-alt"></i> ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
        </button>
        <button class="btn-outline btn-large" onclick="handleRegister()">
          <i class="fas fa-user-plus"></i> ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡∏°‡πà
        </button>
      </div>
      <p class="login-note">‡∏û‡∏ß.‡∏õ‡∏è‡∏¥‡∏û‡∏• ‡∏ß‡∏¥‡πÇ‡∏¢</p>
    </div>
  </div>

  <!-- MAIN APP -->
  <div id="mainApp" class="screen">
    <!-- TAB: HOME -->
    <div id="tabHome" class="tab-content active">
      <div class="header header-primary">
        <div class="header-top">
          <div>
            <h1 class="header-title">SeizGuard <span class="header-badge">‡∏ä‡∏±‡∏Å‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥</span></h1>
            <p class="header-date" id="headerDate"></p>
          </div>
          <div class="header-actions">
            <button class="btn-icon btn-icon-light" onclick="showAddMedModal()" title="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏¢‡∏≤">
              <i class="fas fa-plus"></i>
            </button>
            <button class="btn-icon btn-icon-light" onclick="handleLogout()" title="‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö">
              <i class="fas fa-sign-out-alt"></i>
            </button>
          </div>
        </div>
        <div class="week-calendar" id="weekCalendar"></div>
      </div>
      <div class="content-scroll">
        <div class="adherence-card" id="adherenceCard"></div>
        <div class="section-header">
          <i class="fas fa-pills"></i>
          <span id="medSectionTitle">‡∏¢‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</span>
        </div>
        <div id="medList"></div>
        <button class="missed-dose-btn" onclick="showTab('missedDose')">
          <i class="fas fa-question-circle"></i>
          <span>‡∏•‡∏∑‡∏°‡∏Å‡∏¥‡∏ô‡∏¢‡∏≤? ‡∏î‡∏π‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</span>
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>

    <!-- TAB: LEARN -->
    <div id="tabLearn" class="tab-content">
      <div class="header header-primary">
        <h1 class="header-title">‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h1>
        <p class="header-sub">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏Ñ‡∏ß‡∏£‡∏ó‡∏£‡∏≤‡∏ö</p>
      </div>
      <div class="content-scroll" id="learnTopicsList"></div>
    </div>

    <!-- TAB: ASSESS -->
    <div id="tabAssess" class="tab-content">
      <div class="header header-primary">
        <h1 class="header-title">‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏£</h1>
        <p class="header-sub">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ä‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á</p>
      </div>
      <div class="content-scroll">
        <div class="actions-row">
          <button class="action-card action-danger" onclick="showModal('seizureModal')">
            <div class="action-icon bg-danger"><i class="fas fa-bolt"></i></div>
            <strong>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ä‡∏±‡∏Å</strong>
            <small>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏ß‡∏±‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£</small>
          </button>
          <button class="action-card action-warning" onclick="showModal('sideEffectModal')">
            <div class="action-icon bg-warning"><i class="fas fa-exclamation-triangle"></i></div>
            <strong>‡∏ú‡∏•‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏¢‡∏≤</strong>
            <small>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏û‡∏∂‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</small>
          </button>
        </div>
        <div class="section-header"><i class="fas fa-bolt" style="color:var(--danger)"></i><span>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ä‡∏±‡∏Å</span></div>
        <div id="seizureLogsList"></div>
        <div class="section-header" style="margin-top:20px"><i class="fas fa-exclamation-triangle" style="color:var(--warning)"></i><span>‡∏ú‡∏•‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</span></div>
        <div id="sideEffectLogsList"></div>
      </div>
    </div>

    <!-- TAB: PROFILE -->
    <div id="tabProfile" class="tab-content">
      <div class="header header-primary">
        <div class="header-top">
          <h1 class="header-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</h1>
          <button class="btn-icon btn-icon-light" id="editProfileBtn" onclick="toggleEditProfile()">
            <i class="fas fa-pen"></i>
          </button>
        </div>
      </div>
      <div class="content-scroll">
        <a href="tel:1669" class="emergency-button" id="emergencyCallBtn">
          <i class="fas fa-phone-alt"></i>
          <div class="emergency-info">
            <strong>‡πÇ‡∏ó‡∏£‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</strong>
            <span id="emergencyNumber">1669</span>
          </div>
          <i class="fas fa-chevron-right"></i>
        </a>
        <div id="profileContent"></div>
      </div>
    </div>

    <!-- TAB: MISSED DOSE -->
    <div id="tabMissedDose" class="tab-content">
      <div class="header header-white">
        <button class="btn-icon" onclick="showTab('home')"><i class="fas fa-arrow-left"></i></button>
        <h2 class="header-title-dark">‡∏•‡∏∑‡∏°‡∏Å‡∏¥‡∏ô‡∏¢‡∏≤‡∏Å‡∏±‡∏ô‡∏ä‡∏±‡∏Å</h2>
        <div style="width:40px"></div>
      </div>
      <div class="content-scroll" id="missedDoseContent"></div>
    </div>

    <!-- TAB: LEARN DETAIL -->
    <div id="tabLearnDetail" class="tab-content">
      <div class="header header-primary">
        <button class="btn-icon btn-icon-light" onclick="showTab('learn')"><i class="fas fa-arrow-left"></i></button>
        <h2 class="header-title" id="learnDetailTitle" style="flex:1;text-align:center"></h2>
        <div style="width:40px"></div>
      </div>
      <div class="content-scroll" id="learnDetailContent"></div>
    </div>

    <!-- TAB: MED DETAIL -->
    <div id="tabMedDetail" class="tab-content">
      <div class="header header-primary">
        <button class="btn-icon btn-icon-light" onclick="showTab('home')"><i class="fas fa-arrow-left"></i></button>
        <h2 class="header-title" id="medDetailTitle" style="flex:1;text-align:center"></h2>
        <button class="btn-icon btn-icon-light" id="deleteMedBtn"><i class="fas fa-trash"></i></button>
      </div>
      <div class="content-scroll" id="medDetailContent"></div>
    </div>

    <!-- BOTTOM TAB BAR -->
    <nav class="tab-bar">
      <button class="tab-item active" onclick="showTab('home')" id="tabBtnHome">
        <i class="fas fa-pills"></i>
        <span>‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span>
      </button>
      <button class="tab-item" onclick="showTab('learn')" id="tabBtnLearn">
        <i class="fas fa-book-medical"></i>
        <span>‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤</span>
      </button>
      <button class="tab-item" onclick="showTab('assess')" id="tabBtnAssess">
        <i class="fas fa-clipboard-list"></i>
        <span>‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</span>
      </button>
      <button class="tab-item" onclick="showTab('profile')" id="tabBtnProfile">
        <i class="fas fa-user-circle"></i>
        <span>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</span>
      </button>
    </nav>
  </div>

  <!-- MODAL: ADD MEDICATION -->
  <div id="addMedModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <button class="btn-icon" onclick="closeModal('addMedModal')"><i class="fas fa-times"></i></button>
        <h3>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤</h3>
        <button class="btn-icon btn-save" onclick="saveNewMedication()"><i class="fas fa-check"></i></button>
      </div>
      <div class="modal-body">
        <label class="field-label">‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡∏≤</label>
        <input type="text" id="medName" class="field-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô Phenytoin, Levetiracetam">
        <div class="common-meds" id="commonMedsList"></div>
        <label class="field-label">‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤</label>
        <input type="text" id="medDosage" class="field-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô 100mg, 500mg">
        <label class="field-label">‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏¥‡∏ô‡∏¢‡∏≤</label>
        <div class="time-options" id="timeOptions"></div>
        <label class="field-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏°‡πá‡∏î‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)</label>
        <input type="number" id="medPillCount" class="field-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô 30, 60">
        <label class="field-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
        <textarea id="medNotes" class="field-input field-textarea" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)"></textarea>
      </div>
    </div>
  </div>

  <!-- MODAL: LOG SEIZURE -->
  <div id="seizureModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <button class="btn-icon" onclick="closeModal('seizureModal')"><i class="fas fa-times"></i></button>
        <h3>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ä‡∏±‡∏Å</h3>
        <button class="btn-icon btn-save" onclick="saveSeizureLog()"><i class="fas fa-check"></i></button>
      </div>
      <div class="modal-body">
        <div class="date-time-row">
          <div class="dt-item"><i class="fas fa-calendar"></i><span id="seizureDate"></span></div>
          <div class="dt-item"><i class="fas fa-clock"></i><span id="seizureTime"></span></div>
        </div>
        <label class="field-label">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤</label>
        <input type="text" id="seizureDuration" class="field-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ, 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ">
        <label class="field-label">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</label>
        <div class="severity-picker" id="seizureSeverity"></div>
        <div class="severity-desc" id="seizureSeverityDesc"></div>
        <label class="field-label">‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠)</label>
        <div class="chip-grid" id="seizureSymptoms"></div>
        <label class="field-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
        <textarea id="seizureNotes" class="field-input field-textarea" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏≤‡∏Å‡∏≤‡∏£"></textarea>
      </div>
    </div>
  </div>

  <!-- MODAL: LOG SIDE EFFECT -->
  <div id="sideEffectModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <button class="btn-icon" onclick="closeModal('sideEffectModal')"><i class="fas fa-times"></i></button>
        <h3>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á</h3>
        <button class="btn-icon btn-save" onclick="saveSideEffectLog()"><i class="fas fa-check"></i></button>
      </div>
      <div class="modal-body">
        <div class="date-time-row">
          <div class="dt-item"><i class="fas fa-calendar"></i><span id="sideEffectDate"></span></div>
        </div>
        <label class="field-label">‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏á‡∏™‡∏±‡∏¢</label>
        <div class="chip-grid" id="sideEffectMeds"></div>
        <label class="field-label">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</label>
        <div class="severity-picker" id="sideEffectSeverity"></div>
        <div class="severity-desc" id="sideEffectSeverityDesc"></div>
        <label class="field-label">‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠)</label>
        <div class="chip-grid" id="sideEffectSymptoms"></div>
        <label class="field-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
        <textarea id="sideEffectNotes" class="field-input field-textarea" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"></textarea>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <script src="script.js"></script>
</body>
</html>
